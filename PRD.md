# ⚽ Product Requirements Document (PRD)

## 🧰 프로젝트 개요

- **프로젝트명**: SoccerSquad (임시)
- **목표**: 축구 동호회의 총무가 팀원 관리, 경기 일정 공지, 출석 투표, 자동 팀 편성을 효율적으로 수행할 수 있도록 돕는다.
- **대상 플랫폼**: 모바일 웹앱 (PWA 또는 카카오톡 인앱 브라우저 호환 가능)
- **개발 방향**: MVP 기능 위주로 간단한 UI/UX로 구성

---

## 🧩 핵심 기능 목록 (MVP)

### 1. 카카오 계정 연동 가입
- **기능 설명**: 사용자가 카카오 로그인으로 팀에 가입할 수 있도록 한다.
- **API 사용**: [카카오 소셜 로그인 API](https://developers.kakao.com)

---

### 2. 팀원 등록
- **필드 구성**
  - 이름 (카카오 프로필에서 가져오기)
  - 주 포지션: GK, DF, MF, FW 중 택 1
  - 부 포지션: 여러 개 선택 가능 (체크박스)
- **목적**: 팀 편성 시 포지션 밸런스 반영

---

### 3. 경기 일정 등록 및 출석 투표
- **기능 설명**
  - 총무가 경기 일정을 생성 (날짜, 시간, 장소 입력)
  - 팀원은 '참석' / '불참' 중 하나 선택하여 투표
- **홈 화면**
  - 가장 가까운 경기 1건 표시
  - 참석 투표 상태와 인원 수 확인

---

### 4. 팀 자동 편성
- **기능 설명**
  - 참석자 명단을 기준으로 **노랑팀 vs 파랑팀** 으로 나눈다
- **편성 기준**
  - 주/부 포지션 조합
  - 각 팀의 포지션 밸런스 고려
  - 각 팀의 레벨 총합 균형 맞추기 (예: sum(level))
  - 팀원 수는 동일하거나 1명 차이 이내
- **출력 형태**
  - 노랑팀: 이름 목록 + 포지션
  - 파랑팀: 이름 목록 + 포지션션

---

### 5. 관리자 기능
- **권한**: 총무 계정 (최초 가입자 or 직접 지정)
- **관리 기능**
  - 팀원의 레벨 설정 (1~5 등급 또는 자유 입력)
  - 경기 일정 생성 / 삭제
  - 팀원 포지션 수정

---

## 🔧 기술 스택 및 API

| 기능 | 기술/도구 | 무료 여부 |
|------|-----------|-----------|
| 소셜 로그인 | 카카오톡 OAuth API | ✅ 무료 |
| 백엔드 | NestJS + TypeScript | ✅ 무료 |
| 데이터베이스 | Supabase PostgreSQL | ✅ 무료 tier |
| 프론트엔드 | React + Vite + TailwindCSS + shadcn/ui | ✅ 무료 |
| 백엔드 배포 | Supabase Edge Functions | ✅ 무료 tier |
| 프론트엔드 배포 | Vercel | ✅ 무료 tier |
| 자동 팀 편성 알고리즘 | 자체 TypeScript 로직 구현 | ✅ 무료 |

---

## 📱 사용자 흐름 (User Flow)

### 🧍 일반 사용자
1. 카카오 로그인
2. 홈 화면에서 다가오는 경기 일정 확인
3. 투표: [참석] [불참] [미정]
4. 팀 편성 결과 확인 (자동 분배된 팀 확인)

### 🧑‍💼 관리자 (총무)
1. 경기 일정 생성 (날짜, 시간, 장소)
2. 팀원 레벨 설정 (개별 팀원별 1~5)
3. 출석 마감 후 [자동 편성] 버튼 클릭
4. 결과 저장 및 공유

---

## 📦 데이터 모델 예시

### 사용자 (User)
```json
{
  "id": "kakao_123456",
  "name": "홍길동",
  "position_main": "MF",
  "position_sub": ["FW", "DF"],
  "level": 3,
  "is_admin": false
}
```

### 경기 일정 (Match)
```json
{
  "id": "match_001",
  "date": "2024-01-15",
  "time": "19:00",
  "location": "서울월드컵경기장",
  "created_by": "kakao_123456",
  "status": "open"
}
```

### 출석 투표 (Attendance)
```json
{
  "match_id": "match_001",
  "user_id": "kakao_123456", 
  "status": "attending",
  "updated_at": "2024-01-10T10:30:00Z"
}
```

### 팀 편성 결과 (TeamAssignment)
```json
{
  "match_id": "match_001",
  "yellow_team": ["kakao_123456", "kakao_234567"],
  "blue_team": ["kakao_345678", "kakao_456789"],
  "created_at": "2024-01-15T18:00:00Z"
}
``` 